# Тестовые скрипты проекта BizLevel

В этой директории находятся скрипты для тестирования и отладки функциональности проекта BizLevel.

## Требования

Для запуска скриптов необходимо:

1. Node.js 18+ и npm
2. TypeScript установленный глобально или через npx
3. Переменные окружения для Supabase (см. `.env.example` в корне проекта)

## Доступные скрипты

### `test-level-completion.ts`

Тестирует полный цикл завершения уровня и разблокировки следующего уровня.

#### Действия скрипта:

1. Симулирует просмотр всех видео в уровне (с прогрессом 90%)
2. Симулирует прохождение всех тестов (с результатом 85%)
3. Симулирует скачивание всех артефактов
4. Отмечает уровень как завершенный
5. Проверяет разблокировку следующего уровня

#### Использование:

```bash
npx ts-node scripts/test-level-completion.ts <userId> <levelId>
```

Где:
- `<userId>` - ID пользователя в формате UUID
- `<levelId>` - ID уровня в формате UUID

#### Пример:

```bash
npx ts-node scripts/test-level-completion.ts 123e4567-e89b-12d3-a456-426614174000 234e5678-e89b-12d3-a456-426614174000
```

## Создание новых скриптов

При создании новых тестовых скриптов рекомендуется:

1. Использовать структуру существующих скриптов
2. Добавлять подробные комментарии о назначении скрипта
3. Реализовывать обработку ошибок для повышения надежности
4. Добавлять информацию о новых скриптах в этот README.md

## Безопасность

Обратите внимание:

- Скрипты работают напрямую с базой данных и могут изменять данные
- Рекомендуется запускать скрипты только на тестовых данных и тестовой базе
- Никогда не используйте production-ключи Supabase в скриптах для тестирования
- Не публикуйте результаты выполнения скриптов, если они содержат конфиденциальные данные 